<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSoC5 firmware: interruptions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_CP.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSoC5 firmware
   &#160;<span id="projectnumber">v. 1.9</span>
   </div>
   <div id="projectbrief">Centro E.Piaggio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">interruptions.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interruptions header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;device.h&quot;</code><br />
<code>#include &quot;<a class="el" href="command__processing_8h_source.html">command_processing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_i_m_u__functions_8h_source.html">IMU_functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_encoder__functions_8h_source.html">Encoder_functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_s_d___r_t_c__functions_8h_source.html">SD_RTC_functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="globals_8h_source.html">globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interruptions.h:</div>
<div class="dyncontent">
<div class="center"><img src="interruptions_8h__incl.png" border="0" usemap="#interruptions_8h" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="interruptions_8h__dep__incl.png" border="0" usemap="#interruptions_8hdep" alt=""/></div>
<!-- MAP 1 -->
</div>
</div>
<p><a href="interruptions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af17859273d717ee4b7c575ec7644e308"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#af17859273d717ee4b7c575ec7644e308">motor_control_generic</a> (uint8 index)</td></tr>
<tr class="separator:af17859273d717ee4b7c575ec7644e308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86170580c30277d97216739e8508a13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#ad86170580c30277d97216739e8508a13">save_cycles_eeprom</a> ()</td></tr>
<tr class="separator:ad86170580c30277d97216739e8508a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interruptions</div></td></tr>
<tr class="memitem:a7e24af8c83537b0441877bf0f00dd30a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a7e24af8c83537b0441877bf0f00dd30a">CY_ISR_PROTO</a> (ISR_RS485_RX_ExInterrupt)</td></tr>
<tr class="separator:a7e24af8c83537b0441877bf0f00dd30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b74d7d608d07d4a230aaa9cd0c1a21a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a4b74d7d608d07d4a230aaa9cd0c1a21a">CY_ISR_PROTO</a> (ISR_CYCLES_Handler)</td></tr>
<tr class="separator:a4b74d7d608d07d4a230aaa9cd0c1a21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">General function scheduler</div></td></tr>
<tr class="memitem:a39df971c4e9f194be50c54dfd7aeabfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a39df971c4e9f194be50c54dfd7aeabfe">function_scheduler</a> (void)</td></tr>
<tr class="separator:a39df971c4e9f194be50c54dfd7aeabfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Encoder reading SPI function</div></td></tr>
<tr class="memitem:a6eeedfdf03dd87bd2922b7005fd8c691"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a6eeedfdf03dd87bd2922b7005fd8c691">encoder_reading_SPI</a> (uint8 n_line, uint8 assoc_motor)</td></tr>
<tr class="separator:a6eeedfdf03dd87bd2922b7005fd8c691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Motor control function</div></td></tr>
<tr class="memitem:ab9beadac459e017e1ed807124208d132"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#ab9beadac459e017e1ed807124208d132">compute_reference</a> (uint8 motor_idx, struct <a class="el" href="structst__ref.html">st_ref</a> *st_ref_p, struct <a class="el" href="structst__ref.html">st_ref</a> *st_refOld_p)</td></tr>
<tr class="separator:ab9beadac459e017e1ed807124208d132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34d2793dd85a2e5662e6f4dc8a3dfd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#aa34d2793dd85a2e5662e6f4dc8a3dfd2">compute_SoftHand_2_motors_joystick_reference</a> (uint8 motor_idx, struct <a class="el" href="structst__ref.html">st_ref</a> *st_ref_p, struct <a class="el" href="structst__ref.html">st_ref</a> *st_refOld_p)</td></tr>
<tr class="separator:aa34d2793dd85a2e5662e6f4dc8a3dfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d8abb2b74c69cb1cb0e21101e61f8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a32d8abb2b74c69cb1cb0e21101e61f8f">compute_SoftHand_2_motors_emg_reference</a> (uint8 motor_idx, struct <a class="el" href="structst__ref.html">st_ref</a> *st_ref_p, struct <a class="el" href="structst__ref.html">st_ref</a> *st_refOld_p, int32 err_emg_1, int32 err_emg_2)</td></tr>
<tr class="separator:a32d8abb2b74c69cb1cb0e21101e61f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17436ec2a3bf0398e965c63c8e1a089d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a17436ec2a3bf0398e965c63c8e1a089d">motor_control_SH</a> ()</td></tr>
<tr class="separator:a17436ec2a3bf0398e965c63c8e1a089d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Analog readings</div></td></tr>
<tr class="memitem:a00a8d34962a63161405e5d7785b9625e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a00a8d34962a63161405e5d7785b9625e">analog_read_end</a> ()</td></tr>
<tr class="separator:a00a8d34962a63161405e5d7785b9625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interrupt manager</div></td></tr>
<tr class="memitem:a9790811526002d99b25a814afd02cbae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a9790811526002d99b25a814afd02cbae">interrupt_manager</a> ()</td></tr>
<tr class="separator:a9790811526002d99b25a814afd02cbae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions</div></td></tr>
<tr class="memitem:ac7305eeb40ebfb2c0d67725aa2e88f78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#ac7305eeb40ebfb2c0d67725aa2e88f78">pwm_limit_search</a> (uint8 mot_idx)</td></tr>
<tr class="separator:ac7305eeb40ebfb2c0d67725aa2e88f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e92908805632dc8cab2936d89bb3ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a4e92908805632dc8cab2936d89bb3ba1">overcurrent_control</a> ()</td></tr>
<tr class="separator:a4e92908805632dc8cab2936d89bb3ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77877c16b42f6f384f7c80d3002aed22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interruptions_8h.html#a77877c16b42f6f384f7c80d3002aed22">cycles_counter_update</a> ()</td></tr>
<tr class="separator:a77877c16b42f6f384f7c80d3002aed22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interruptions header file. </p>
<dl class="section date"><dt>Date</dt><dd>March 20th, 2020 </dd></dl>
<dl class="section author"><dt>Author</dt><dd><em>Centro "E.Piaggio"</em> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(C) 2012-2016 qbrobotics. All rights reserved. </dd>
<dd>
(C) 2017-2020 Centro "E.Piaggio". All rights reserved. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a00a8d34962a63161405e5d7785b9625e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a8d34962a63161405e5d7785b9625e">&#9670;&nbsp;</a></span>analog_read_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analog_read_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function executes and terminates the analog readings. </p>

</div>
</div>
<a id="ab9beadac459e017e1ed807124208d132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9beadac459e017e1ed807124208d132">&#9670;&nbsp;</a></span>compute_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_reference </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>motor_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_ref_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_refOld_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function computes the motor reference and stores it in the given <a class="el" href="structst__ref.html" title="Motor Reference structure. ">st_ref</a> structure. </p>

</div>
</div>
<a id="a32d8abb2b74c69cb1cb0e21101e61f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d8abb2b74c69cb1cb0e21101e61f8f">&#9670;&nbsp;</a></span>compute_SoftHand_2_motors_emg_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_SoftHand_2_motors_emg_reference </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>motor_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_ref_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_refOld_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>err_emg_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>err_emg_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function computes the motor reference for SoftHand_2_motors device with EMG input and stores it in the given <a class="el" href="structst__ref.html" title="Motor Reference structure. ">st_ref</a> structure. </p>

</div>
</div>
<a id="aa34d2793dd85a2e5662e6f4dc8a3dfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34d2793dd85a2e5662e6f4dc8a3dfd2">&#9670;&nbsp;</a></span>compute_SoftHand_2_motors_joystick_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_SoftHand_2_motors_joystick_reference </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>motor_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_ref_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structst__ref.html">st_ref</a> *&#160;</td>
          <td class="paramname"><em>st_refOld_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function computes the motor reference for SoftHand_2_motors device with joystick input and stores it in the given <a class="el" href="structst__ref.html" title="Motor Reference structure. ">st_ref</a> structure. </p>

</div>
</div>
<a id="a7e24af8c83537b0441877bf0f00dd30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e24af8c83537b0441877bf0f00dd30a">&#9670;&nbsp;</a></span>CY_ISR_PROTO() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_ISR_PROTO </td>
          <td>(</td>
          <td class="paramtype">ISR_RS485_RX_ExInterrupt&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This interruption sets a flag to let the firmware know that a communication interruption is pending and needs to be handled. The interruption will be handled in predefined moments during the firmware execution. When this interruption is handled, it unpacks the package received on the RS485 communication bus. </p>

</div>
</div>
<a id="a4b74d7d608d07d4a230aaa9cd0c1a21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b74d7d608d07d4a230aaa9cd0c1a21a">&#9670;&nbsp;</a></span>CY_ISR_PROTO() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_ISR_PROTO </td>
          <td>(</td>
          <td class="paramtype">ISR_CYCLES_Handler&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This interruption sets a flag to let the firmware know that a cycles timer interruption is pending and needs to be handled. The interrpution will be handled in predefined moments during the firmware execution. When this interruption is handled, it updates cycles counters. </p>

</div>
</div>
<a id="a77877c16b42f6f384f7c80d3002aed22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77877c16b42f6f384f7c80d3002aed22">&#9670;&nbsp;</a></span>cycles_counter_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cycles_counter_update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function increases the cycles counters variables, depending on SoftHand position and the current absorbed by the motor. </p>

</div>
</div>
<a id="a6eeedfdf03dd87bd2922b7005fd8c691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eeedfdf03dd87bd2922b7005fd8c691">&#9670;&nbsp;</a></span>encoder_reading_SPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encoder_reading_SPI </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>n_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>assoc_motor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This functions reads the value from all the connected encoders. </p>

</div>
</div>
<a id="a39df971c4e9f194be50c54dfd7aeabfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39df971c4e9f194be50c54dfd7aeabfe">&#9670;&nbsp;</a></span>function_scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void function_scheduler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function schedules the other functions in an order that optimizes the controller usage. </p>

</div>
</div>
<a id="a9790811526002d99b25a814afd02cbae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9790811526002d99b25a814afd02cbae">&#9670;&nbsp;</a></span>interrupt_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interrupt_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called in predefined moments during firmware execution in order to unpack the received package. </p>

</div>
</div>
<a id="af17859273d717ee4b7c575ec7644e308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af17859273d717ee4b7c575ec7644e308">&#9670;&nbsp;</a></span>motor_control_generic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_control_generic </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function controls the motor direction and velocity, depending on the input and control modality set. </p>

</div>
</div>
<a id="a17436ec2a3bf0398e965c63c8e1a089d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17436ec2a3bf0398e965c63c8e1a089d">&#9670;&nbsp;</a></span>motor_control_SH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motor_control_SH </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function controls the motor direction and velocity, depending on the input and control modality set. </p>

</div>
</div>
<a id="a4e92908805632dc8cab2936d89bb3ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e92908805632dc8cab2936d89bb3ba1">&#9670;&nbsp;</a></span>overcurrent_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void overcurrent_control </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function increases or decreases the pwm maximum value, depending on the current absorbed by the motor. </p>

</div>
</div>
<a id="ac7305eeb40ebfb2c0d67725aa2e88f78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7305eeb40ebfb2c0d67725aa2e88f78">&#9670;&nbsp;</a></span>pwm_limit_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pwm_limit_search </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>mot_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function scales the pwm value of the motor, depending on the power supply voltage, in order to not make the motor wind too fast. </p>

</div>
</div>
<a id="ad86170580c30277d97216739e8508a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86170580c30277d97216739e8508a13">&#9670;&nbsp;</a></span>save_cycles_eeprom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_cycles_eeprom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function saves cycles counters variables into EEPROM memory. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
